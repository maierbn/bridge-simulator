Scenario 2
==========

======= function solve truss with 7 elements =======
---------- Input parameters ------------
5 node_positions [x, y]:           [[0, 0], [2, 5], [3, 2], [4, 7], [5, 2]]
7 elements [node start, node end]: [[0, 1], [0, 2], [1, 2], [1, 3], [2, 3], [2, 4], [3, 4]]
2 loads [dof, value]:              [[4, 0.2], [5, -0.5]]
3 fixed_dofs:                      [0, 1, 9]
parameter EA = 10

id_matrix:
[[0 0 2 2 4 4 6]
 [1 1 3 3 5 5 7]
 [2 4 4 6 6 8 8]
 [3 5 5 7 7 9 9]]
counting criterion:  3 + 7 - 2 * 5 = 0
 -> statically determined (statisch bestimmt)

----- assemble global stiffness matrix from local matrices -----
   - element  0 , angle  68.1985905136 , length  5.38516480713
   - element  1 , angle  33.690067526 , length  3.60555127546
   - element  2 , angle  -71.5650511771 , length  3.16227766017
   - element  3 , angle  45.0 , length  2.82842712475
   - element  4 , angle  78.690067526 , length  5.09901951359
   - element  5 , angle  0.0 , length  2.0
   - element  6 , angle  -78.690067526 , length  5.09901951359

global stiffness matrix k_global:
[[ 2.17624756  1.92040613 -0.2561315  -0.64032875 -1.92011606 -1.28007738
   0.          0.          0.          0.        ]
 [ 1.92040613  2.4542068  -0.64032875 -1.60082188 -1.28007738 -0.85338492
   0.          0.          0.          0.        ]
 [-0.2561315  -0.64032875  2.34012622  1.45941241 -0.31622777  0.9486833
  -1.76776695 -1.76776695  0.          0.        ]
 [-0.64032875 -1.60082188  1.45941241  6.21463873  0.9486833  -2.84604989
  -1.76776695 -1.76776695  0.          0.        ]
 [-1.92011606 -1.28007738 -0.31622777  0.9486833   7.31177311  0.70854049
  -0.07542928 -0.37714641 -5.          0.        ]
 [-1.28007738 -0.85338492  0.9486833  -2.84604989  0.70854049  5.58516688
  -0.37714641 -1.88573207  0.          0.        ]
 [ 0.          0.         -1.76776695 -1.76776695 -0.07542928 -0.37714641
   1.91862552  1.76776695 -0.07542928  0.37714641]
 [ 0.          0.         -1.76776695 -1.76776695 -0.37714641 -1.88573207
   1.76776695  5.53923109  0.37714641 -1.88573207]
 [ 0.          0.          0.          0.         -5.          0.
  -0.07542928  0.37714641  5.07542928 -0.37714641]
 [ 0.          0.          0.          0.          0.          0.
   0.37714641 -1.88573207 -0.37714641  1.88573207]]

global right hand side load vector f:
[[ 0. ]
 [ 0. ]
 [ 0. ]
 [ 0. ]
 [ 0.2]
 [-0.5]
 [ 0. ]
 [ 0. ]
 [ 0. ]
 [ 0. ]]

----- reduce system by removing fixed dofs -----
k_global_reduced:
[[ 2.34012622  1.45941241 -0.31622777  0.9486833  -1.76776695 -1.76776695
   0.        ]
 [ 1.45941241  6.21463873  0.9486833  -2.84604989 -1.76776695 -1.76776695
   0.        ]
 [-0.31622777  0.9486833   7.31177311  0.70854049 -0.07542928 -0.37714641
  -5.        ]
 [ 0.9486833  -2.84604989  0.70854049  5.58516688 -0.37714641 -1.88573207
   0.        ]
 [-1.76776695 -1.76776695 -0.07542928 -0.37714641  1.91862552  1.76776695
  -0.07542928]
 [-1.76776695 -1.76776695 -0.37714641 -1.88573207  1.76776695  5.53923109
   0.37714641]
 [ 0.          0.         -5.          0.         -0.07542928  0.37714641
   5.07542928]]

f reduced:
[[ 0. ]
 [ 0. ]
 [ 0.2]
 [-0.5]
 [ 0. ]
 [ 0. ]
 [ 0. ]]

----- solve system k*u = f for u -----
number of nonfixed dofs:  7 , rank of stiffness matrix:  7
(these numbers should be equal, otherwise the system is not statically determined)
solution (u reduced):
[[ 0.70557255]
 [-0.49802726]
 [ 0.57383337]
 [-0.59656148]
 [ 0.34948749]
 [-0.24942243]
 [ 0.58903337]]

----- recover full sized u by inserting 0's -----
, u recovered:
[ 0.          0.          0.70557255 -0.49802726  0.57383337 -0.59656148
  0.34948749 -0.24942243  0.58903337  0.        ]

----- plot -----
Created file "scenario_2_dof7_el7_n5.png".
